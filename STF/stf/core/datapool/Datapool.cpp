/**
 * @file   Datapool.cpp
 * @brief  STF生成データにタイムタグを付加して格納するデータプール．
 * A data pool that stores a time tag added to STF generated data.
 *
 * @author Taiga Nomi
 * @date   2011.02.16
 */
#include "Datapool.h"

namespace stf {
namespace core {
namespace datapool {


AocsDataPool::AocsDataPool() {
	this->table_ = new Tuple<datatype::IAocsData>*[kMaxDataPoolRows];
}

const datatype::IAocsData* AocsDataPool::get(int rows) const{
	return table_[rows]->get_data_at(table_[rows]->index());
}
const datatype::IAocsData* AocsDataPool::get(int rows, int cols) const{
	return table_[rows]->get_data_at(cols);
}

const datatype::Time& AocsDataPool::gettime(int index) const{
	return table_[index]->gettime();//copy
}
const datatype::String& AocsDataPool::getname(int index) const{
	return table_[index]->name();
}

// 指定したインスタンスIDが生成したタプルへのポインタを取得（テレメトリ用）
//Get pointer to tuple generated by specified instance ID (for telemetry)
Tuple<datatype::IAocsData>* AocsDataPool::get_ptr(int index) {
	stf_assert( index < kMaxDataPoolRows );
	return table_[index];
}


} /* End of namespace stf::core::datapool */
} /* End of namespace stf::core */
} /* End of namespace stf */
